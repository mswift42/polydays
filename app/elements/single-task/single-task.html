<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../../bower_components/core-collapse/core-collapse.html">

<polymer-element name="single-task" attributes="summary content editing scheduled">
  <template>
    <link rel="stylesheet" href="single-task.css">
    <div id="tsk" center >
        <div id="singletask" >
	  <paper-shadow z="1" layout vertical>
            <div class="task" layout horizontal >
	    <paper-checkbox id="taskstatus" self-center></paper-checkbox>
	    <div id="tasksummary" flex eight self-center on-click="{{togglecontent}}" hidden?="{{editing}}" on-dblclick="{{showinput}}">
	      <p hidden?="{{editing}}">{{summary}}</p>
              <paper-input value="{{summary}}" hidden?="{{!editing}}">
              </paper-input>
            </div>
            </div>


            <div class="taskcontent">
              <core-collapse id="collapse">
                <p>{{content}}</p>
                <template if="{{scheduled}}">
                  <p id="dateheader">Scheduled:&nbsp<span id="date">{{scheduled}}</span></p>
                </template>
              </core-collapse>
            </div>
	  </paper-shadow>
        </div>
    </div>
  </template>
  <script>
   (function () {
     Polymer({
       // define element prototype here
       editing: false,
       togglecontent: function() {
	 this.$.collapse.toggle();
       },
       showinput: function() {
         this.editing = !this.editing;
         }
     });
   })();
  </script>
</polymer-element>
